mh.Scene=function(t,i){var e={element:document.body,alpha:!0,antialias:!0,clearColor:"#fff",sortObjects:!1,fog:null,light:new THREE.DirectionalLight(16777215),lightPosition:null,cameraType:"PerspectiveCamera",cameraPosition:null,orthoZoom:4},o={minDistance:100,maxDistance:1e3,zoomSpeed:2,noZoom:!1};if(e=mh.util.merge(e,t),"boolean"!=typeof i&&"undefined"!=typeof i&&(o=mh.util.merge(o,i)),this.renderer=new THREE.WebGLRenderer({alpha:e.alpha,antialias:e.antialias}),this.renderer.setClearColor(e.clearColor,0),this.renderer.sortObjects=e.sortObjects,this.width=window.innerWidth,this.height=window.innerHeight,this.orthoZoom=e.orthoZoom,this.container=new THREE.Scene,this.container.fog=e.fog,this.container.add(new THREE.AmbientLight(14540253)),e.light&&!e.lightPosition&&e.light.position.set(-1,1,-1).normalize(),e.light&&this.container.add(e.light),"OrthographicCamera"===e.cameraType){var h=window.innerWidth/this.orthoZoom,s=window.innerHeight/this.orthoZoom;this.camera=new THREE.OrthographicCamera(h/-2,h/2,s/2,s/-2,1,5e3)}else this.camera=new THREE.PerspectiveCamera(50,this.width/this.height,1,5e3);this.contolled=!!i,this.contolled&&(this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.minDistance=o.minDistance,this.controls.maxDistance=o.maxDistance,this.controls.zoomSpeed=o.zoomSpeed,this.controls.noZoom=o.noZoom),e.cameraPosition&&this.camera.position.copy(e.cameraPosition),window.addEventListener("resize",function(){if(this.width=window.innerWidth,this.height=window.innerHeight,"OrthographicCamera"===this.camera.type){var t=this.width/this.orthoZoom,i=this.height/this.orthoZoom;this.camera.left=t/-2,this.camera.right=t/2,this.camera.top=i/2,this.camera.bottom=i/-2}else this.camera.aspect=this.width/this.height;this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height)}.bind(this),!1),this.attachTo(e.element)},mh.Scene.prototype={constructor:mh.Scene,attachTo:function(t){t.style.width=this.width+"px",t.style.height=this.height+"px",this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),t.appendChild(this.renderer.domElement)},add:function(t){this.container.add(t)},remove:function(t){this.container.remove(t)},render:function(){this.contolled&&this.controls.update(),this.renderer.render(this.container,this.camera)},updateOrthoZoom:function(){if(this.orthoZoom<=0)return void(this.orthoZoom=0);var t=this.width/this.orthoZoom,i=this.height/this.orthoZoom;this.camera.left=t/-2,this.camera.right=t/2,this.camera.top=i/2,this.camera.bottom=i/-2,this.camera.updateProjectionMatrix()},focusOn:function(t){this.camera.lookAt(t.position)},dispose:function(){}},mh.THREECube=function(t,i){i=i||{},mh.Base.call(this),this.textureUrl=null,this.container=mh.kai.view,this.size=50,this.color=1401481,this.emissive=468276,mh.util.overwrite(this,i),this.entity=t,this._display=null;var e=new THREE.CubeGeometry(this.size,this.size,this.size),o=new THREE.MeshPhongMaterial({color:1401481,emissive:468276,shading:THREE.FlatShading,map:this.textureUrl?THREE.ImageUtils.loadTexture(this.textureUrl):null});this._display=new THREE.Mesh(e,o),this.position=mh.kai.expect(t,"position",THREE.Vector3),this.rotation=mh.kai.expect(t,"rotation",THREE.Vector3)},mh.THREECube.accessor="view",mh.THREECube.className="VIEW_CUBE",mh.THREECube.priority=10,mh.THREECube.prototype={constructor:mh.THREECube,activate:function(){this.active=!0,this.container.add(this._display)},disable:function(){this.active=!1,this.container.remove(this._display)},update:function(){this._display.position.copy(this.position),this._display.rotation.setFromVector3(this.rotation)},dispose:function(){this.disable(),this.entity=null,this.position=null,this._display=null}};
//# sourceMappingURL=motorhaus-extras-three.min.js.map
